function randomColor () {
  return 'rgb (' + 
  Math.floor(Math.random() * 255) + 
  "," + 
  Math.floor(Math.random() * 255) + 
  ","+ 
  Math.floor(Math.random() * 255) + 
  ")"
}

function randomArrayItem(array) {
  return array[Math.floor(Math.random() * array.length)];
}

var imgArray = [];

for (var i = 0; i < 20; i++) {
  var imgNumber = i + 1 >= 10 ? i + 1 : "0" + (i + 1);
  var imgPath = "tiles/tiles-" + imgNumber + ".jpg";
  imgArray.push(imgPath);
}

var filledCells = [
   436, 614, 674, 734,704,764,793,853, 913, 973, 1033, 1093, 1153, 1213, 1273, 1333, 825, 885, 945, 1005, 1065, 1125, 1185, 1245, 1305, 1365, 1392, 1452, 1512, 1572, 1426, 1486, 1546, 1606, 1631, 1667, 1692, 1726, 1753, 1785,
    1813, 1845, 1874, 1904, 1935, 1963, 1996, 2022, 1997, 2021, 2058, 2080,
    2059, 2120, 2121, 2079, 2138, 2137, 2182, 2183, 2196, 2195, 2244, 2245,
    2246, 2247,
    2248,
    2249,
    2250,
    2251,
    2252,
    2253,
    2254,
    927,
    928,
    929,
    930,
    931,
    944,
    943,
    942,
    941,
    940,
    939,
    938,
    937,
    914,
    915,
    916,
    917,
    918,
    919,
    920,
    921,
    926,
    932,
    865,
    864,
    863,
    802,
    801,
    873,
    874,
    875,
    816,
    854,
    855,
    856,
    857,
    858,
    859,
    860,
    794,
    795,
    796,
    797,
    798,
    799,
    800,
    740,
    739,
    738,
    737,
    736,
    735,
    675,
    676,
    677,
    678,
    679,
    680,
    681,
    741,
    742,
    682,
    743,
    683,
    803,
    804,
    805,
    866,
    867,
    868,
    869,
    870,
    871,
    872,
    812,
    811,
    810,
    809,
    808,
    807,
    806,
    744,
    745,
    746,
    748,
    747,
    749,
    750,
    751,
    752,
    753,
    754,
    755,
    813,
    814,
    815,
    817,
    878,
    879,
    880,
    881,
    882,
    883,
    884,
    824,
    823,
    822,
    820,
    819,
    818,
    756,
    757,
    688,
    758,
    759,
    760,
    761,
    762,
    763,
    821,
    703,
    702,
    701,
    700,
    698,
    699,
    696,
    695,
    694,
    693,
    692,
    691,
    689,
    690,
    697,
    686,
    687,
    685,
    684,
    615,
    616,
    617,
    618,
    619,
    620,
    621,
    622,
    623,
    624,
    625,
    626,
    627,
    628,
    629,
    630,
    631,
    632,
    633,
    634,
    635,
    636,
    637,
    638,
    639,
    640,
    641,
    642,
    643,
    582,
    581,
    579,
    580,
    577,
    578,
    576,
    575,
    574,
    573,
    572,
    571,
    570,
    568,
    569,
    567,
    566,
    565,
    564,
    563,
    562,
    561,
    560,
    559,
    558,
    557,
    556,
    555,
    496,
    497,
    498,
    499,
    500,
    501,
    502,
    503,
    504,
    505,
    506,
    507,
    508,
    509,
    510,
    511,
    512,
    513,
    514,
    515,
    516,
    517,
    518,
    519,
    520,
    521,
    460,
    459,
    458,
    457,
    456,
    455,
    454,
    453,
    451,
    452,
    450,
    449,
    448,
    446,
    447,
    445,
    444,
    443,
    441,
    442,
    440,
    439,
    438,
    437,
    377,
    378,
    379,
    380,
    381,
    382,
    383,
    384,
    385,
    386,
    387,
    388,
    389,
    390,
    391,
    392,
    393,
    394,
    395,
    396,
    397,
    398,
    399,
    339,
    338,
    337,
    336,
    335,
    334,
    332,
    333,
    330,
    329,
    331,
    328,
    327,
    326,
    324,
    325,
    323,
    322,
    321,
    320,
    319,
    318,
    260,
    259,
    261,
    262,
    263,
    264,
    265,
    266,
    267,
    268,
    269,
    270,
    271,
    272,
    273,
    274,
    275,
    276,
    277,
    278,
    217,
    216,
    215,
    214,
    213,
    212,
    211,
    210,
    209,
    208,
    207,
    206,
    205,
    204,
    203,
    202,
    201,
    145,
    146,
    147,
    148,
    149,
    150,
    151,
    152,
    153,
    154,
    862,
    861,
    876,
    877,
    980,
    979,
    978,
    977,
    976,
    975,
    974,
    998,
    999,
    1001,
    1000,
    1002,
    1003,
    1004,
    1037,
    1036,
    1035,
    1034,
    1062,
    1063,
    1064,
    1095,
    1094,
    1061,
    1123,
    1124,
    1184,
    1244,
    1154,
    1214,
    2192,
    2132,
    2072,
    2012,
    2191,
    2131,
    2071,
    2011,
    2190,
    2130,
    2070,
    2010,
    2189,
    2129,
    2069,
    2009,
    2188,
    2128,
    2068,
    2008,
    2187,
    2127,
    2067,
    2007,
    2186,
    2126,
    2066,
    2006,
    2185,
    2125,
    2065,
    2005,
    2184,
    2124,
    2064,
    2004,
    2123,
    2063,
    2003,
    2122,
    2062,
    2002,
    2061,
    2060,
    2000,
    2001,
    1999,
    1998,
    2013,
    2073,
    2133,
    2193,
    2014,
    2074,
    2134,
    2194,
    2015,
    2075,
    2135,
    2136,
    2076,
    2016,
    2017,
    2077,
    2078,
    2018,
    2019,
    2020,
    1962,
    1708,
    1707,
    1706,
    1705,
    1704,
    1703,
    1702,
    1701,
    1700,
    1699,
    1698,
    1697,
    1696,
    1695,
    1694,
    1693,
    1709,
    1710,
    1711,
    1712,
    1713,
    1714,
    1715,
    1716,
    1717,
    1718,
    1719,
    1720,
    1721,
    1722,
    1723,
    1724,
    1725,
    1425,
    1424,
    1484,
    1485,
    1545,
    1544,
    1543,
    1542,
    1602,
    1603,
    1661,
    1662,
    1663,
    1664,
    1665,
    1666,
    1605,
    1604,
    1393,
    1394,
    1453,
    1454,
    1513,
    1514,
    1515,
    1516,
    1576,
    1575,
    1574,
    1573,
    1632,
    1633,
    1634,
    1635,
    1636,
    1637,
    1784,
    1783,
    1782,
    1781,
    1780,
    1779,
    1778,
    1777,
    1776,
    1775,
    1774,
    1754,
    1755,
    1756,
    1757,
    1758,
    1759,
    1760,
    1761,
    1762,
    1763,
    1764,
    1773,
    1772,
    1765,
    1766,
    1825,
    1824,
    1823,
    1822,
    1821,
    1820,
    1819,
    1818,
    1817,
    1816,
    1815,
    1814,
    1833,
    1834,
    1835,
    1836,
    1837,
    1838,
    1839,
    1840,
    1841,
    1842,
    1844,
    1843,
    1903,
    1902,
    1893,
    1885,
    1946,
    1952,
    1953,
    1954,
    1894,
    1895,
    1955,
    1896,
    1956,
    1897,
    1957,
    1898,
    1958,
    1899,
    1959,
    1900,
    1960,
    1901,
    1961,
    1884,
    1945,
    1944,
    1883,
    1943,
    1882,
    1942,
    1881,
    1941,
    1880,
    1940,
    1879,
    1939,
    1878,
    1938,
    1877,
    1937,
    1876,
    1936,
    1875,
    144,
    644,
    583,
    522,
    461,
    462,
    401,
    400,
    340,
    279
];

var box = document.querySelector(".box");
for (let index = 0; index < 3000; index++) {
  const element = document.createElement("div");
  element.classList.add("item");
  element.addEventListener("click", function () {
    // если ячейка заполнена
    if (filledCells.includes(index)) {
      // то очистить её
      // element.style.backgroundImage = "none";
      element.style.backgroundColor = "white";
      // и удалить её индекс из массива индексов заполненных ячеек
      filledCells = filledCells.filter(function (cellIndex) {
        return cellIndex !== index;
      });
    } else {
      // если не заполнена
      // то заполнить
      // var imageUrl = "url(" + randomArrayItem(imgArray) + ")";
      element.style.backgroundColor = "red";
      // и добавить её индекс в массив индексов заполненных ячеек
      filledCells.push(index);
    }
    console.log(filledCells);
  });
  box.appendChild(element);
}


var cells = document.querySelectorAll(".item");
cells.forEach(function (cell, cellIndex) {
  if (filledCells.includes(cellIndex)) {
    var imageUrl = "url(tiles/tiles-13.jpg)";
    cell.style.backgroundImage = imageUrl;
    // cell.style.backgroundColor = "black";
  }
});


var resetButton = document.querySelector(".reset-button");
resetButton.addEventListener("click", function () {
  var items = document.querySelectorAll(".item");
  items.forEach(function (item) {
    item.style.backgroundImage = "none";
  });
});

// setTimeout(reset, 5000);

// function reset() {
//     var items = document.querySelectorAll (".item");
//     items.forEach(function (item){
//         item.style.backgroundImage = "none";
//     });

// }

// setInterval(reset, 5000);

// setInterval (function () {
//     var items = Array.from (document.querySelectorAll (".item")).slice(500, 900);
//     var randomItem = randomArrayItem(items);
//     randomItem.style.backgroundImage = "url(" + imgArray[0] + ")";
// }, 10);

// setInterval (function () {
//     var items = Array.from (document.querySelectorAll (".item")).slice(1000, 2000);
//     var randomItem = randomArrayItem(items);
//     randomItem.style.backgroundImage = "url(" + imgArray[5] + ")";
// }, 100);